<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
pre {
    margin: 0;
    cursor: text;
}
pre:hover {
    background: #EEF;
}
pre.error { font-weight: bold; color: red; }
pre.warn { color: orangered; }
pre.debug, pre.info, pre.trace { color: #666; }
    </style>
  </head>
  <body>
    <script>
var console = window.console || {};

function add_message(msg_class, msg_text) {
    var el;

    el = document.createElement('PRE');
    el.innerText = to_string(msg_text);
    el.className = msg_class;
    document.body.appendChild(el);
}

function to_string(obj) {
    if (obj.outerHTML) {
        return obj.outerHTML;
    }
    if (Array.isArray(obj) || (window.NodeList && obj instanceof NodeList) || (window.HTMLCollection && obj instanceof HTMLCollection)) {
        return obj.constructor.name + ': ' + JSON.stringify(Array.prototype.map.call(obj, to_string), null, 2);
    }
    if (typeof obj === 'object') {
        return JSON.stringify(obj, null, 2);
    }
    return obj.toString();
}

['log', 'error', 'warn', 'dir', 'debug', 'info', 'trace'].forEach(function (method) {
    var old_method = console[method] || function () { return; };

    console[method] = function (msg) {
        old_method.apply(this, arguments);
        if (method === 'trace') {
            add_message(method, (new Error(msg)).stack.replace('Error: ', ''));
        } else {
            add_message(method, msg);
        }
    };
});

window.onerror = function(message, source, lineno, colno, err) {
    add_message('error', (err || {}).stack ? err.stack : message);
    add_message('error', '*** Terminated ***');
};
    </script>
    <script src="bundle.js"></script>
  </body>
</html>
